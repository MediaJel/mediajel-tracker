!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire07df,n=t.register;n("9tnsc",function(n,r){e(n.exports,"default",function(){return s});var i=t("lwczO");t("gaoAP");var a=t("dfzZn"),o=t("7FWw7"),c=t("iN4ie"),u=t("9nXWu"),l=t("cmhQG"),d=t("bhLWo"),s=async e=>{var n;let r=(null==e?void 0:null===(n=e.plugin)||void 0===n?void 0:n.split(","))||[],s=await (0,a.default)(e),m=(0,o.applyExtensions)(s,[c.default,l.default,d.default,u.default,r.includes("googleAds")&&await Promise.resolve(t("7FWw7")).then(({withGoogleAdsExtension:e})=>e),r.includes("bingAds")&&await Promise.resolve(t("7FWw7")).then(({withBingAdsExtension:e})=>e)]);switch(window.trackTrans=m.ecommerce.trackTransaction,window.trackSignUp=m.trackSignup,window.addToCart=m.ecommerce.trackAddToCart,window.removeFromCart=m.ecommerce.trackRemoveFromCart,e.event){case"transaction":t("gjtns").then(({default:e})=>e(m));break;case"impression":t("jV2KE").then(({default:e})=>e(m));break;case"signup":m.trackSignup(e);break;default:if(!e.environment){(0,i.default).warn("No event/environment specified, Only pageview is active");return}t("gjtns").then(({default:e})=>e(m)),(0,i.default).warn(`No event specified, Loading ${e.environment}`)}}}),n("gaoAP",function(n,r){e(n.exports,"createSnowplowTracker",function(){return t("dfzZn").default}),t("l2W8L"),t("dfzZn")}),n("l2W8L",function(e,n){t("hkXx1")}),n("hkXx1",function(e,t){}),n("dfzZn",function(n,r){e(n.exports,"default",function(){return a});var i=t("lwczO"),a=async e=>{let{appId:n,collector:r,event:a}=e;(0,i.default).info(`Creating Snowplow tracker for version ${e.version}`);let o="1"===e.version,c=async()=>await t("exMKC").then(async({default:t})=>await t(e)),u=async()=>await t("3HWzl").then(async({default:t})=>await t(e)),l=o?await c():await u();return l.initialize({appId:n,collector:r,event:a}),l.record(e),l}}),n("exMKC",function(e,n){e.exports=t("aiXW3")(t("7SZEv").resolve("32qsa")).then(()=>t("a7EfY"))}),n("3HWzl",function(e,n){e.exports=t("aiXW3")(t("7SZEv").resolve("dqqna")).then(()=>t("dFSGc"))}),n("7FWw7",function(n,r){e(n.exports,"applyExtensions",function(){return i}),e(n.exports,"withSnowplowSegmentsExtension",function(){return t("9nXWu").default}),e(n.exports,"withGoogleAdsExtension",function(){return t("2JcTW").default}),e(n.exports,"withBingAdsExtension",function(){return t("iKE1G").default}),e(n.exports,"withDeduplicationExtension",function(){return t("iN4ie").default}),t("9nXWu"),t("2JcTW"),t("iKE1G"),t("iN4ie");let i=(e,t)=>t.reduce((e,t)=>t?t(e):e,e)}),n("9nXWu",function(n,r){e(n.exports,"default",function(){return o}),t("i0MG4");var i=t("gDuU6");let a=e=>{let t=e.segmentId||e.s1,n={pageVisitorBeaconId:e["s2.pv"]||e.s2,transactionBeaconId:e["s2.tr"]||e.s2},r={siteVisitorNC:e["s3.pv"]||e.s3,purchaseNC:e["s3.tr"]||e.s3},a=(0,i.default)({liquidm:t,nexxen:n,dstillery:r});return window.cnnaSegments=a,t&&a.liquidm.emit(),n&&a.nexxen.emit(),r&&a.dstillery.emit(),a};var o=e=>{let t=a(e.context),n=e.ecommerce.trackTransaction;return e.ecommerce.trackTransaction=e=>{n(e),t.nexxen.emitPurchase({bprice:e.total,cid:e.id}),t.dstillery.emitPurchase({amount:e.total,orderId:e.id})},e}}),n("i0MG4",function(n,r){e(n.exports,"createSegments",function(){return t("gDuU6").default}),t("gDuU6"),t("cdX3u")}),n("gDuU6",function(n,r){e(n.exports,"default",function(){return c});var i=t("kcTRk"),a=t("8MHlY"),o=t("brv19"),c=e=>{let{liquidm:t,nexxen:n,dstillery:r}=e;return{nexxen:(0,a.default)(n),liquidm:(0,i.default)(t),dstillery:(0,o.default)(r)}}}),n("kcTRk",function(n,r){e(n.exports,"default",function(){return a});var i=t("lwczO"),a=e=>({emit:()=>{var t,n;(0,i.default).info("Building s1 segment with segmentId: ",e),(t=document.createElement("script")).type="text/javascript",t.async=!0,t.src=`https://tracking.lqm.io/odin/handle_sync.js?seg=${e}&gdpr=0&gdpr_consent=&cb=`+new Date().getTime(),(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,n)}})}),n("8MHlY",function(n,r){e(n.exports,"default",function(){return o});var i=t("lwczO"),a=t("2FQv2"),o=e=>{let{pageVisitorBeaconId:t,transactionBeaconId:n}=e;return{emit:()=>{if(!t)return;(0,i.default).info("Building s2 segment with segmentId: ",t);let e=(0,a.default)(`https://r.turn.com/r/beacon?b2=${t}`);document.head.appendChild(e)},emitPurchase:e=>{let{cid:t,bprice:r}=e;if(!t||!r||!n){console.warn("Missing required data for s2.tr");return}(0,i.default).info("Emitting purchase event for segmentId: ",n);let o=(0,a.default)(`https://r.turn.com/r/beacon?b2=${n}&cid=${t}&bprice=${r}`);document.head.appendChild(o)}}}}),n("2FQv2",function(t,n){e(t.exports,"default",function(){return r});var r=e=>{let t=document.createElement("img");return t.src=e,t.width=1,t.height=1,t.style.position="absolute",t.style.left="-9999px",t}}),n("brv19",function(n,r){e(n.exports,"default",function(){return o});var i=t("lwczO"),a=t("2FQv2"),o=e=>{let{siteVisitorNC:t,purchaseNC:n}=e;return{emit:()=>{if(!t)return;(0,i.default).info("Building s3 segment with segmentId: ",t);let e=(0,a.default)(`https://action.dstillery.com/orbserv/nsjs?adv=cl172365597545365&ns=8779&nc=${t}&ncv=76`);document.head.appendChild(e)},emitPurchase:e=>{let{orderId:t,amount:r}=e;if(!t||!r||!n){console.warn("Missing required data for s3.tr");return}(0,i.default).info("Emitting dstillery purchase event for segmentId: ",n);let o=(0,a.default)(`https://action.dstillery.com/orbserv/nsjs?adv=cl172365597545365&ns=8779&nc=${n}&ncv=76&dstOrderId=${t}&dstOrderAmount=${r}`);document.head.appendChild(o)}}}}),n("cdX3u",function(e,t){}),n("2JcTW",function(n,r){e(n.exports,"default",function(){return o});var i=t("lwczO");let a=e=>{function t(){window.dataLayer.push(arguments)}e.conversionId&&e.conversionLabel||console.warn("Conversion ID and Conversion Label are required for Google Ads"),e.conversionId.includes("AW-")||(e.conversionId=`AW-${e.conversionId}`),(0,i.default).info(`\u{1F680}\u{1F680}\u{1F680} Google Ads Plugin loaded for ${e.environment}`),document.createElement("script").src=`https://www.googletagmanager.com/gtag/js?id=${e.conversionId}`,window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config",e.conversionId),e.crossDomainSites&&t("set","linker",{domains:e.crossDomainSites.split(",").map(e=>e.trim())})};var o=e=>{let{conversionId:t,conversionLabel:n}=e.context;t.includes("AW-")||(t=`AW-${t}`),a(e.context);let r=e.ecommerce.trackTransaction;return e.ecommerce.trackTransaction=e=>{r(e),(0,i.default).info(`\u{1F680}\u{1F680}\u{1F680} Google Ads Extension Transaction Event`,{send_to:`${t}/${n}`,value:e.total,currency:e.currency,transaction_id:e.id}),window.gtag("event","conversion",{send_to:`${t}/${n}`,value:e.total,currency:e.currency,transaction_id:e.id})},e}}),n("iKE1G",function(n,r){e(n.exports,"default",function(){return o});var i=t("lwczO");let a=e=>{let t=document.createElement("script");t.type="text/javascript",t.innerHTML=`(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:${e.tagId}};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");`,document.head.appendChild(t),window.uetq=window.uetq||[]};var o=e=>{a(e.context);let t=e.ecommerce.trackTransaction;return e.ecommerce.trackTransaction=e=>{t(e),(0,i.default).info(`\u{1F680}\u{1F680}\u{1F680} Bing Ads Extension Transaction Event`,{transaction_id:e.id,ecomm_prodid:e.items.map(e=>e.sku),ecomm_pagetype:"purchase",ecomm_totalvalue:e.total,revenue_value:e.total,currency:"USD",items:e.items.map(e=>({id:e.sku,quantity:e.quantity,price:e.unitPrice}))}),window.uetq.push("event","purchase",{transaction_id:e.id,ecomm_prodid:e.items.map(e=>e.sku),ecomm_pagetype:"purchase",ecomm_totalvalue:e.total,revenue_value:e.total,currency:"USD",items:e.items.map(e=>({id:e.sku,quantity:e.quantity,price:e.unitPrice}))})},e}}),n("iN4ie",function(n,r){e(n.exports,"default",function(){return a});var i=t("lwczO"),a=e=>{let t=(0,i.createLogger)("MJ:Deduplication"),{trackTransaction:n,trackAddToCart:r,trackRemoveFromCart:a}=e.ecommerce,{trackSignup:o}=e,c=t=>`${e.context.appId}_${t}`,u=(e,n,r,i)=>{let a=c(n),o=i.map(e=>r[e]).join(":"),u=localStorage.getItem(a),l=[];if(u){let e=function(e){try{var t=JSON.parse(e);if(t&&"object"==typeof t)return{type:"object",value:t};if(Array.isArray(t))return{type:"array",value:t};return{type:"string",value:e}}catch(t){return{type:"string",value:e}}}(u);(null==e?void 0:e.type)==="object"?l=e.value:(null==e?void 0:e.type)==="string"&&(l=[e.value])}if(console.log("existingIds",l),l.includes(o)){t.warn(`${n} with id ${o} already tracked. Discarding duplicate.`);return}e(r),localStorage.setItem(a,JSON.stringify([...l,o]))};return e.ecommerce.trackTransaction=e=>u(n,"transaction",e,["id"]),e.ecommerce.trackAddToCart=e=>u(r,"addToCart",e,["name","quantity"]),e.ecommerce.trackRemoveFromCart=e=>u(a,"removeFromCart",e,["name","quantity"]),e.trackSignup=e=>u(o,"signUp",e,["uuid","emailAddress"]),e}}),n("cmhQG",function(t,n){e(t.exports,"default",function(){return r});var r=e=>{let t=e.ecommerce.trackTransaction;return e.ecommerce.trackTransaction=e=>{t({id:e.id,affiliateId:e.affiliateId,total:e.total,tax:e.tax,shipping:e.shipping,city:e.city,state:e.state,country:e.country,currency:e.currency,discount:e.discount,couponCode:e.couponCode,alternativeTransactionIds:e.alternativeTransactionIds,items:e.items.map(t=>({orderId:e.id,sku:t.sku,name:t.name,category:t.category,unitPrice:t.unitPrice,quantity:t.quantity,currency:t.currency}))})},e}}),n("bhLWo",function(t,n){e(t.exports,"default",function(){return c});let r={};window.registerThirdPartyTags=e=>{r=e};let i=(e,t)=>e.replace(/{\w+}/g,e=>t[e]||e),a=(e,t)=>{if("script"===e){let e=document.createElement("script");e.src=t,e.async=!0,document.body.appendChild(e)}else if("image"===e){let e=new Image;e.src=t,document.body.appendChild(e)}},o=(e,t)=>{null==e||e.forEach(({tag:e,type:n})=>{a(n,i(e,t))})};var c=e=>{let{trackTransaction:t,trackAddToCart:n,trackRemoveFromCart:i}=e.ecommerce,{trackSignup:a}=e;return e.ecommerce.trackTransaction=e=>{var n,i,a,c,u;t(e),o(r.onTransaction,{"{transaction_id}":(null==e?void 0:null===(n=e.id)||void 0===n?void 0:n.toString())||"null","{transaction_total}":(null==e?void 0:null===(i=e.total)||void 0===i?void 0:i.toString())||"0","{transaction_tax}":(null==e?void 0:null===(a=e.tax)||void 0===a?void 0:a.toString())||"0","{transaction_shipping}":(null==e?void 0:null===(c=e.shipping)||void 0===c?void 0:c.toString())||"0","{transaction_city}":(null==e?void 0:e.city)||"null","{transaction_state}":(null==e?void 0:e.state)||"null","{transaction_country}":(null==e?void 0:e.country)||"null","{transaction_currency}":(null==e?void 0:e.currency)||"null","{transaction_userId}":(null==e?void 0:null===(u=e.userId)||void 0===u?void 0:u.toString())||"null"})},e.ecommerce.trackAddToCart=e=>{var t,i,a;n(e),o(r.onAddToCart,{"{cart_id}":(null==e?void 0:e.sku)||"null","{cart_name}":(null==e?void 0:e.name)||"null","{cart_category}":(null==e?void 0:e.category)||"null","{cart_unitPrice}":(null==e?void 0:null===(t=e.unitPrice)||void 0===t?void 0:t.toString())||"0","{cart_quantity}":(null==e?void 0:null===(i=e.quantity)||void 0===i?void 0:i.toString())||"0","{cart_currency}":(null==e?void 0:e.currency)||"null","{cart_userId}":(null==e?void 0:null===(a=e.userId)||void 0===a?void 0:a.toString())||"null"})},e.ecommerce.trackRemoveFromCart=e=>{var t,n,a;i(e),o(r.onRemoveFromCart,{"{cart_id}":(null==e?void 0:e.sku)||"null","{cart_name}":(null==e?void 0:e.name)||"null","{cart_category}":(null==e?void 0:e.category)||"null","{cart_unitPrice}":(null==e?void 0:null===(t=e.unitPrice)||void 0===t?void 0:t.toString())||"0","{cart_quantity}":(null==e?void 0:null===(n=e.quantity)||void 0===n?void 0:n.toString())||"0","{cart_currency}":(null==e?void 0:e.currency)||"null","{cart_userId}":(null==e?void 0:null===(a=e.userId)||void 0===a?void 0:a.toString())||"null"})},e.trackSignup=e=>{a(e),o(r.onSignup,{"{signup_firstName}":(null==e?void 0:e.firstName)||"null","{signup_lastName}":(null==e?void 0:e.lastName)||"null","{signup_uuid}":(null==e?void 0:e.uuid)||"null","{signup_email}":(null==e?void 0:e.emailAddress)||"null","{signup_address}":(null==e?void 0:e.address)||"null","{signup_city}":(null==e?void 0:e.city)||"null","{signup_state}":(null==e?void 0:e.state)||"null","{signup_phone}":(null==e?void 0:e.phoneNumber)||"null","{signup_advertiser}":(null==e?void 0:e.advertiser)||"null"})},e}}),n("gjtns",function(e,n){e.exports=t("aiXW3")(t("7SZEv").resolve("9DPLo")).then(()=>t("7rUq7"))}),n("jV2KE",function(e,n){e.exports=t("aiXW3")(t("7SZEv").resolve("6x0lw")).then(()=>t("54bLn"))})}();
//# sourceMappingURL=adapters.6626997d.js.map
