!function(){function e(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire07df,a=t.register;a("8HNqz",function(a,n){e(a.exports,"default",function(){return l});var r=t("2hYdk"),i=t("3tZSl"),o=t("lSX0J"),l=e=>{let t=(0,o.multiAdapterHandler)(e);t.add("Google Data Layer Source #1",()=>{(0,i.datalayerSource)(e=>{if("purchase"===e.event){console.log("Purchase Event: ",e);try{let t=e&&e.ecommerce,a=t.items,{value:n,shipping:i,tax:o}=t,l=t&&t.transaction_id&&t.transaction_id.toString();(0,r.default).notify({transactionEvent:{id:l,total:parseFloat(n),tax:parseFloat(o),city:"N/A",country:"USA",currency:"USD",shipping:i,state:"N/A",items:a.map(e=>{let{item_id:t,item_name:a,item_category:n,price:r,quantity:i}=e;return{orderId:l,category:n,currency:"USD",name:a,quantity:i,sku:t,unitPrice:parseFloat(r)||0}})}})}catch(e){console.log("Log Warn Purchase Event: ",e)}}})}),t.execute()}}),a("lSX0J",function(a,n){let r;e(a.exports,"multiAdapterHandler",function(){return u});var i=t("lwczO"),o=t("2hYdk");let l=e=>{e.context.appId;let t=!1,a=[];return{add:(e,t)=>{(0,i.default).info(`Adding ${e} to the adapter handler...`),a.push({name:e,fn:t})},execute:()=>{for(let{name:e,fn:n}of((0,i.default).info("Executing adapter handler..."),a)){let a=!1;(0,o.default).subscribe(e=>{e.transactionEvent&&(a=!0)});try{if((0,i.default).info(`Attempting transaction with ${e}`),n(),a){t=!0,(0,i.default).info(`Transaction successful with ${e}`);return}}catch(t){(0,i.default).error(`Transaction Failed with ${e}`,t)}}t||(0,i.default).error("All transaction attempts failed for the adapter.")}}},u=(r=null,e=>(r||(r=l(e)),r))})}();
//# sourceMappingURL=flowhub.24c09210.js.map
