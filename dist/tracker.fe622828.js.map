{"mappings":"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","sources":["<anon>","src/shared/snowplow/v2/tracker.ts","src/shared/snowplow/v2/init.ts","node_modules/@parcel/runtime-js/lib/runtime-7d7c6ee6b51f41bb.js","node_modules/@parcel/runtime-js/lib/runtime-96899f7091488627.js"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var parcelRequire = $parcel$global[\"parcelRequire07df\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"dFSGc\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $1f0f5b2696a4a3e6$export$2e2bcd8739ae039; });\n\nvar $cCnLl = parcelRequire(\"cCnLl\");\n\n\nconst $1f0f5b2696a4a3e6$var$createSnowplowV2Tracker = async (input)=>{\n    const loadImpressionHandler = async ()=>{\n        return await (parcelRequire(\"8sxXd\")).then(({ default: load })=>load());\n    };\n    const loadEcommerceHandler = async ()=>{\n        return await (parcelRequire(\"1hjWl\")).then(({ default: load })=>load(input));\n    };\n    return {\n        context: input,\n        initialize: $cCnLl.initialize,\n        // Load ecommerce handler only if the event is a transaction or if no event is specified\n        ecommerce: (input.event === \"transaction\" || !input.event) && await loadEcommerceHandler(),\n        impressions: input.event === \"impression\" && await loadImpressionHandler(),\n        trackSignup (input) {\n            const { uuid: uuid, firstName: firstName, lastName: lastName, gender: gender, emailAddress: emailAddress, hashedEmailAddress: hashedEmailAddress, address: address, city: city, state: state, phoneNumber: phoneNumber, advertiser: advertiser } = input;\n            window.tracker(\"trackSelfDescribingEvent\", {\n                event: {\n                    schema: \"iglu:com.mediajel.events/sign_up/jsonschema/1-0-2\",\n                    data: {\n                        uuid: uuid,\n                        firstName: firstName,\n                        lastName: lastName,\n                        gender: gender,\n                        emailAddress: emailAddress,\n                        hashedEmailAddress: hashedEmailAddress,\n                        address: address,\n                        city: city,\n                        state: state,\n                        phoneNumber: phoneNumber,\n                        advertiser: advertiser\n                    }\n                }\n            });\n        },\n        record (input) {\n            window.tracker(\"trackSelfDescribingEvent\", {\n                event: {\n                    schema: \"iglu:com.mediajel.events/record/jsonschema/1-0-2\",\n                    data: input\n                }\n            });\n        }\n    };\n};\nvar $1f0f5b2696a4a3e6$export$2e2bcd8739ae039 = $1f0f5b2696a4a3e6$var$createSnowplowV2Tracker;\n\n});\nparcelRegister(\"cCnLl\", function(module, exports) {\n\n$parcel$export(module.exports, \"initialize\", function () { return $9d8a97e293d4eea9$export$2a47f398eeff8b01; });\nconst $9d8a97e293d4eea9$export$2a47f398eeff8b01 = ({ appId: appId, collector: collector, event: event })=>{\n    (function(e, o, n, t, a, c, i) {\n        if (!e[a]) {\n            e.GlobalSnowplowNamespace = e.GlobalSnowplowNamespace || [];\n            e.GlobalSnowplowNamespace.push(a);\n            e[a] = function() {\n                (e[a].q = e[a].q || []).push(arguments);\n            };\n            e[a].q = e[a].q || [];\n            c = o.createElement(n);\n            i = o.getElementsByTagName(n)[0];\n            c.async = 1;\n            c.src = t;\n            i.parentNode.insertBefore(c, i);\n        }\n    })(window, document, \"script\", \"//mj-snowplow-static-js.s3.amazonaws.com/cnna.js\", \"tracker\");\n    window.tracker(\"newTracker\", appId, collector, {\n        appId: appId,\n        postPath: \"/analytics/track\",\n        discoverRootDomain: true,\n        stateStorageStrategy: \"cookieAndLocalStorage\",\n        cookieSameSite: \"Lax\",\n        respectDoNotTrack: false,\n        eventMethod: \"post\"\n    });\n    window.tracker(\"enableActivityTracking\", {\n        minimumVisitLength: 30,\n        heartbeatDelay: 10\n    });\n    window.tracker(\"trackPageView\");\n    window.tracker(\"enableFormTracking\");\n    window.tracker(\"enableErrorTracking\", {\n        filter: (errorEvent)=>errorEvent.hasOwnProperty(\"message\")\n    });\n    /**\n   * !IMPORTANT: We are disabling this as to not override Link click config for the impression pixel.\n   * Enabling this for impressions will cause click tracking to break\n   */ if (event !== \"impression\") window.tracker(\"enableLinkClickTracking\");\n};\n\n});\n\nparcelRegister(\"8sxXd\", function(module, exports) {\n\n\nmodule.exports = (parcelRequire(\"aiXW3\"))((parcelRequire(\"7SZEv\")).resolve(\"e9BL7\")).then(()=>parcelRequire(\"111nX\"));\n\n});\n\nparcelRegister(\"1hjWl\", function(module, exports) {\n\n\nmodule.exports = (parcelRequire(\"aiXW3\"))((parcelRequire(\"7SZEv\")).resolve(\"7gxBy\")).then(()=>parcelRequire(\"bfVQq\"));\n\n});\n\n\n})();\n//# sourceMappingURL=tracker.fe622828.js.map\n","import { CreateSnowplowTrackerInput, SnowplowTracker } from 'src/shared/snowplow/types';\nimport { initialize } from 'src/shared/snowplow/v2/init';\n\nconst createSnowplowV2Tracker = async (input: CreateSnowplowTrackerInput): Promise<SnowplowTracker> => {\n  const loadImpressionHandler = async () => {\n    return await import(`src/shared/snowplow/v2/impressions`).then(({ default: load }) => load());\n  };\n  const loadEcommerceHandler = async () => {\n    return await import(`src/shared/snowplow/v2/ecommerce`).then(({ default: load }) => load(input));\n  };\n\n  return {\n    context: input,\n    initialize,\n    // Load ecommerce handler only if the event is a transaction or if no event is specified\n    ecommerce: (input.event === \"transaction\" || !input.event) && (await loadEcommerceHandler()),\n    impressions: input.event === \"impression\" && (await loadImpressionHandler()),\n    trackSignup(input) {\n      const {\n        uuid,\n        firstName,\n        lastName,\n        gender,\n        emailAddress,\n        hashedEmailAddress,\n        address,\n        city,\n        state,\n        phoneNumber,\n        advertiser,\n      } = input;\n      window.tracker(\"trackSelfDescribingEvent\", {\n        event: {\n          schema: \"iglu:com.mediajel.events/sign_up/jsonschema/1-0-2\",\n          data: {\n            uuid,\n            firstName,\n            lastName,\n            gender,\n            emailAddress,\n            hashedEmailAddress,\n            address,\n            city,\n            state,\n            phoneNumber,\n            advertiser,\n          },\n        },\n      });\n    },\n    record(input) {\n      window.tracker(\"trackSelfDescribingEvent\", {\n        event: {\n          schema: \"iglu:com.mediajel.events/record/jsonschema/1-0-2\",\n          data: input,\n        },\n      });\n    },\n  };\n};\n\nexport default createSnowplowV2Tracker;\n","import { CreateSnowplowTrackerInput } from \"src/shared/snowplow/types\";\n\nexport const initialize = ({ appId, collector, event }: CreateSnowplowTrackerInput) => {\n  (function (e, o, n, t, a, c, i) {\n    if (!e[a]) {\n      e.GlobalSnowplowNamespace = e.GlobalSnowplowNamespace || [];\n      e.GlobalSnowplowNamespace.push(a);\n      e[a] = function () {\n        (e[a].q = e[a].q || []).push(arguments);\n      };\n      e[a].q = e[a].q || [];\n      c = o.createElement(n);\n      i = o.getElementsByTagName(n)[0];\n      c.async = 1;\n      c.src = t;\n      i.parentNode.insertBefore(c, i);\n    }\n  })(window, document, \"script\", \"//mj-snowplow-static-js.s3.amazonaws.com/cnna.js\", \"tracker\");\n  window.tracker(\"newTracker\", appId, collector, {\n    appId,\n    postPath: \"/analytics/track\",\n    discoverRootDomain: true,\n    stateStorageStrategy: \"cookieAndLocalStorage\",\n    cookieSameSite: \"Lax\",\n    respectDoNotTrack: false,\n    eventMethod: \"post\",\n  });\n  window.tracker(\"enableActivityTracking\", {\n    minimumVisitLength: 30,\n    heartbeatDelay: 10,\n  });\n  window.tracker(\"trackPageView\");\n  window.tracker(\"enableFormTracking\");\n  window.tracker(\"enableErrorTracking\", {\n    filter: (errorEvent: ErrorEvent) => errorEvent.hasOwnProperty(\"message\"),\n  });\n\n  /**\n   * !IMPORTANT: We are disabling this as to not override Link click config for the impression pixel.\n   * Enabling this for impressions will cause click tracking to break\n   */\n  if (event !== \"impression\") {\n    window.tracker(\"enableLinkClickTracking\");\n  }\n};\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-manifest').resolve(\"e9BL7\"))).then(() => parcelRequire('111nX'));","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-manifest').resolve(\"7gxBy\"))).then(() => parcelRequire('bfVQq'));"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","self","window","global","parcelRegister","register","module","exports","$1f0f5b2696a4a3e6$export$2e2bcd8739ae039","$cCnLl","input","loadImpressionHandler","then","default","load","loadEcommerceHandler","context","initialize","ecommerce","event","impressions","trackSignup","uuid","firstName","lastName","gender","emailAddress","hashedEmailAddress","address","city","state","phoneNumber","advertiser","tracker","schema","data","record","$9d8a97e293d4eea9$export$2a47f398eeff8b01","appId","collector","o","t","a","c","i","document","GlobalSnowplowNamespace","push","q","arguments","createElement","getElementsByTagName","async","src","parentNode","insertBefore","postPath","discoverRootDomain","stateStorageStrategy","cookieSameSite","respectDoNotTrack","eventMethod","minimumVisitLength","heartbeatDelay","filter","errorEvent","hasOwnProperty","resolve"],"version":3,"file":"tracker.fe622828.js.map"}