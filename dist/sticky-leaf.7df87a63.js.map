{"mappings":"A,I,E,A,C,E,C,E,A,C,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,C,E,iB,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,U,C,I,W,O,C,E,I,K,E,W,C,E,a,C,C,G,I,E,E,SC+BA,EA3B6B,KAC3B,GAAK,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,YAGvC,GAAI,CACF,GAAM,CAAA,KAAE,CAAI,CAAE,CAAG,OAAO,GAAM,CAAC,UAAU,CAAC,IAAI,CACxC,EAAgB,CAAC,EAAE,EAAK,GAAG,EAAE,IAAI,KAAO,CAAC,CACzC,EAAQ,SAAS,cAAc,CAAC,SAEtC,AAAA,CAAA,EAAA,EAAA,OAAS,AAAT,EAAW,MAAM,CAAC,CAChB,iBAAkB,CAChB,GAAI,EACJ,MAAO,WAAW,EAAM,SAAS,CAAC,OAAO,CAAC,QAAS,KACnD,IAAK,EACL,SAAU,EACV,KAAM,MACN,MAAO,MACP,QAAS,MACT,SAAU,MACV,MAAO,EAAE,AACX,CACF,EACF,CAAE,MAAO,EAAO,CAEhB,CACF,C","sources":["<anon>","src/shared/environment-data-sources/sticky-leaf.ts"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var parcelRequire = $parcel$global[\"parcelRequire07df\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"eyn6E\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $3e78a712c8149b96$export$2e2bcd8739ae039; });\n\nvar $2hYdk = parcelRequire(\"2hYdk\");\nconst $3e78a712c8149b96$var$stickyLeafDataSource = ()=>{\n    if (!window.location.pathname.includes(\"checkout\")) return;\n    try {\n        const { name: name } = window[\"$sl\"].cartReview.form;\n        const transactionId = `${name} - ${new Date()}`;\n        const value = document.getElementById(\"total\");\n        (0, $2hYdk.default).notify({\n            transactionEvent: {\n                id: transactionId,\n                total: parseFloat(value.innerText.replace(/^\\D+/g, \"\")),\n                tax: 0,\n                shipping: 0,\n                city: \"N/A\",\n                state: \"N/A\",\n                country: \"USA\",\n                currency: \"USD\",\n                items: []\n            }\n        });\n    } catch (error) {\n    // window.tracker(\"trackError\", JSON.stringify(error), \"STICKYLEAF\");\n    }\n};\nvar $3e78a712c8149b96$export$2e2bcd8739ae039 = $3e78a712c8149b96$var$stickyLeafDataSource;\n\n});\n\n})();\n//# sourceMappingURL=sticky-leaf.7df87a63.js.map\n","import observable from \"src/shared/utils/create-events-observable\";\n\nimport { EnvironmentEvents } from \"../types\";\n\nconst stickyLeafDataSource = () => {\n  if (!window.location.pathname.includes(\"checkout\")) {\n    return;\n  }\n  try {\n    const { name } = window[\"$sl\"].cartReview.form;\n    const transactionId = `${name} - ${new Date()}`;\n    const value = document.getElementById(\"total\");\n\n    observable.notify({\n      transactionEvent: {\n        id: transactionId,\n        total: parseFloat(value.innerText.replace(/^\\D+/g, \"\")),\n        tax: 0,\n        shipping: 0,\n        city: \"N/A\",\n        state: \"N/A\",\n        country: \"USA\",\n        currency: \"USD\",\n        items: [],\n      },\n    });\n  } catch (error) {\n    // window.tracker(\"trackError\", JSON.stringify(error), \"STICKYLEAF\");\n  }\n};\n\nexport default stickyLeafDataSource;\n"],"names":["parcelRequire","parcelRegister","$parcel$global","globalThis","self","window","global","register","module","exports","Object","defineProperty","get","$3e78a712c8149b96$export$2e2bcd8739ae039","set","s","enumerable","configurable","$2hYdk","location","pathname","includes","name","cartReview","form","transactionId","Date","value","document","getElementById","default","notify","transactionEvent","id","total","parseFloat","innerText","replace","tax","shipping","city","state","country","currency","items","error"],"version":3,"file":"sticky-leaf.7df87a63.js.map"}