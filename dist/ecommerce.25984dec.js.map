{"mappings":"A,C,E,A,A,C,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,C,E,iB,C,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,U,C,I,W,O,C,E,I,K,E,W,C,E,a,C,C,GCwEA,IAAA,EAtEuD,AACrD,IAEA,GAAM,CAAA,MAAE,CAAK,CAAA,SAAE,CAAQ,CAAA,YAAE,CAAW,CAAE,CAAG,EAEzC,MAAO,CACL,iBAAkB,AAAC,IACjB,OAAO,OAAO,CACZ,WACA,EAAM,EAAE,CACR,EAAM,WAAW,EAAK,CAAA,MAAA,EAAA,EAAY,CAAA,EAClC,EAAM,KAAK,CACX,EAAM,GAAG,CACT,EAAM,QAAQ,CACd,EAAM,IAAI,CACV,EAAM,KAAK,CACX,EAAM,OAAO,CACb,EAAM,QAAQ,CACd,CACE,CACE,OAAQ,iEACR,KAAM,CACJ,KAAM,EACN,gBAAiB,EAAM,yBAAyB,CAChD,SAAU,EAAM,QAAQ,CACxB,YAAa,EAAM,UAAU,AAC/B,CACF,EACD,EAGH,EAAM,KAAK,CAAC,OAAO,CAAC,AAAC,IACnB,OAAO,OAAO,CACZ,UACA,EAAM,EAAE,CACR,EAAK,GAAG,CACR,EAAK,IAAI,CACT,EAAK,QAAQ,CACb,EAAK,SAAS,CACd,EAAK,QAAQ,CACb,EAAM,QAAQ,CAElB,GACA,OAAO,OAAO,CAAC,aACjB,EACA,eAAgB,AAAC,IACf,OAAO,OAAO,CACZ,iBACA,EAAM,GAAG,CACT,EAAM,IAAI,CACV,EAAM,QAAQ,CACd,EAAM,SAAS,CACf,EAAM,QAAQ,CACd,EAAM,QAAQ,CAElB,EACA,oBAAqB,AAAC,IACpB,OAAO,OAAO,CACZ,sBACA,EAAM,GAAG,CACT,EAAM,IAAI,CACV,EAAM,QAAQ,CACd,EAAM,SAAS,CACf,EAAM,QAAQ,CACd,EAAM,QAAQ,CAElB,CACF,CACF,C","sources":["<anon>","src/shared/snowplow/v1/ecommerce.ts"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var parcelRequire = $parcel$global[\"parcelRequire07df\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"bLsGx\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $027c61b18d792f8d$export$2e2bcd8739ae039; });\nconst $027c61b18d792f8d$var$createSnowplowV1TrackerEcommerceEventsHandlers = (input)=>{\n    const { appId: appId, retailId: retailId, environment: environment } = input;\n    return {\n        trackTransaction: (input)=>{\n            window.tracker(`addTrans`, input.id, input.affiliateId || (retailId !== null && retailId !== void 0 ? retailId : appId), input.total, input.tax, input.shipping, input.city, input.state, input.country, input.currency, [\n                {\n                    schema: \"iglu:com.mediajel.events/enhanced_transaction/jsonschema/1-0-1\",\n                    data: {\n                        cart: environment,\n                        transaction_ids: input.alternativeTransactionIds,\n                        discount: input.discount,\n                        coupon_code: input.couponCode\n                    }\n                }\n            ]);\n            input.items.forEach((item)=>{\n                window.tracker(`addItem`, input.id, item.sku, item.name, item.category, item.unitPrice, item.quantity, input.currency);\n            });\n            window.tracker(`trackTrans`);\n        },\n        trackAddToCart: (input)=>{\n            window.tracker(\"trackAddToCart\", input.sku, input.name, input.category, input.unitPrice, input.quantity, input.currency);\n        },\n        trackRemoveFromCart: (input)=>{\n            window.tracker(\"trackRemoveFromCart\", input.sku, input.name, input.category, input.unitPrice, input.quantity, input.currency);\n        }\n    };\n};\nvar $027c61b18d792f8d$export$2e2bcd8739ae039 = $027c61b18d792f8d$var$createSnowplowV1TrackerEcommerceEventsHandlers;\n\n});\n\n})();\n//# sourceMappingURL=ecommerce.25984dec.js.map\n","import { CreateSnowplowTrackerInput, SnowplowTrackerEcommerceEvents } from \"src/shared/snowplow/types\";\n\nconst createSnowplowV1TrackerEcommerceEventsHandlers = (\n  input: CreateSnowplowTrackerInput,\n): SnowplowTrackerEcommerceEvents => {\n  const { appId, retailId, environment } = input;\n\n  return {\n    trackTransaction: (input) => {\n      window.tracker(\n        `addTrans`,\n        input.id,\n        input.affiliateId || (retailId ?? appId),\n        input.total,\n        input.tax,\n        input.shipping,\n        input.city,\n        input.state,\n        input.country,\n        input.currency,\n        [\n          {\n            schema: \"iglu:com.mediajel.events/enhanced_transaction/jsonschema/1-0-1\",\n            data: {\n              cart: environment,\n              transaction_ids: input.alternativeTransactionIds,\n              discount: input.discount,\n              coupon_code: input.couponCode,\n            },\n          },\n        ],\n      );\n\n      input.items.forEach((item) => {\n        window.tracker(\n          `addItem`,\n          input.id,\n          item.sku,\n          item.name,\n          item.category,\n          item.unitPrice,\n          item.quantity,\n          input.currency,\n        );\n      });\n      window.tracker(`trackTrans`);\n    },\n    trackAddToCart: (input) => {\n      window.tracker(\n        \"trackAddToCart\",\n        input.sku,\n        input.name,\n        input.category,\n        input.unitPrice,\n        input.quantity,\n        input.currency,\n      );\n    },\n    trackRemoveFromCart: (input) => {\n      window.tracker(\n        \"trackRemoveFromCart\",\n        input.sku,\n        input.name,\n        input.category,\n        input.unitPrice,\n        input.quantity,\n        input.currency,\n      );\n    },\n  };\n};\n\nexport default createSnowplowV1TrackerEcommerceEventsHandlers;\n"],"names":["parcelRequire","$parcel$global","globalThis","self","window","global","register","module","exports","Object","defineProperty","get","$027c61b18d792f8d$export$2e2bcd8739ae039","set","s","enumerable","configurable","input","appId","retailId","environment","trackTransaction","tracker","id","affiliateId","total","tax","shipping","city","state","country","currency","schema","data","cart","transaction_ids","alternativeTransactionIds","discount","coupon_code","couponCode","items","forEach","item","sku","name","category","unitPrice","quantity","trackAddToCart","trackRemoveFromCart"],"version":3,"file":"ecommerce.25984dec.js.map"}