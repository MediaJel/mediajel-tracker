!function(){function t(t,e,r,a){Object.defineProperty(t,e,{get:r,set:a,enumerable:!0,configurable:!0})}var e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire07df,r=e.register;r("d4u6f",function(r,a){t(r.exports,"default",function(){return d});var n=e("2hYdk"),o=e("5ayqG"),i=e("3tZSl"),u=e("lSX0J"),d=t=>{let e=(0,u.multiAdapterHandler)(t);e.add("PostMessageSource",()=>{(0,o.postMessageSource)(t=>{let{payload:e,messageType:r}=t.data;if(e&&"analyticsEvent"===r){if("cartItemAdd"===e.name){let{product:t,productId:r}=e.properties}if("cartItemRemoval"===e.name){let{productId:t}=e.properties;(0,n.default).notify({removeFromCartEvent:{sku:t.toString(),name:"N/A",category:"N/A",unitPrice:0,quantity:1,currency:"USD"}})}if("checkout"===e.name)try{let{customerEmail:t,products:r,cartId:a,estimatedTotal:o,deliveryFee:i,deliveryAddress:u={},salesTax:d,storeTax:c}=e.properties;(0,n.default).notify({transactionEvent:{userId:t,id:a.toString(),total:parseFloat(o),tax:parseFloat(d+c||0),shipping:parseFloat(i||0),city:((null==u?void 0:u.city)||"N/A").toString(),state:((null==u?void 0:u.state_code)||"N/A").toString(),country:((null==u?void 0:u.country_code)||"N/A").toString(),currency:"USD",items:r.map(t=>{let{product_id:e,name:r,category:n,unit_price:o,count:i}=t;return{orderId:a.toString(),sku:e.toString(),name:(r||"N/A").toString(),category:(n||"N/A").toString(),unitPrice:parseFloat(o||0),quantity:parseInt(i||1),currency:"USD"}})}})}catch(t){}}})}),e.add("DataLayerSource",()=>{(0,i.datalayerSource)(t=>{var e;let r=null===(e=t.ecommerce)||void 0===e?void 0:e.purchase,a=(null==r?void 0:r.products)||[];"ihj_purchase"===t.event&&(0,n.default).notify({transactionEvent:{userId:r.customerEmail,id:r.transaction_id.toString(),total:parseFloat(r.value),tax:0,shipping:0,city:"N/A",state:"N/A",country:"N/A",currency:"USD",items:a.map(t=>{let{name:e,category:a,price:n,quantity:o}=t;return{orderId:r.transaction_id.toString(),sku:"N/A",name:(e||"N/A").toString(),category:(a||"N/A").toString(),unitPrice:parseFloat(n||0),quantity:parseInt(o||1),currency:"USD"}})}})})}),e.execute()}}),r("5ayqG",function(e,r){t(e.exports,"postMessageSource",function(){return a});let a=t=>{window.addEventListener("message",t,!1)}}),r("lSX0J",function(r,a){let n;t(r.exports,"multiAdapterHandler",function(){return d});var o=e("lwczO"),i=e("2hYdk");let u=t=>{t.context.appId;let e=!1,r=[];return{add:(t,e)=>{(0,o.default).info(`Adding ${t} to the adapter handler...`),r.push({name:t,fn:e})},execute:()=>{for(let{name:t,fn:a}of((0,o.default).info("Executing adapter handler..."),r)){let r=!1;(0,i.default).subscribe(t=>{t.transactionEvent&&(r=!0)});try{if((0,o.default).info(`Attempting transaction with ${t}`),a(),r){e=!0,(0,o.default).info(`Transaction successful with ${t}`);return}}catch(e){(0,o.default).error(`Transaction Failed with ${t}`,e)}}e||(0,o.default).error("All transaction attempts failed for the adapter.")}}},d=(n=null,t=>(n||(n=u(t)),n))})}();
//# sourceMappingURL=jane.a96e6594.js.map
