var e;(0,(e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire07df).register)("jPBao",function(t,a){Object.defineProperty(t.exports,"default",{get:function(){return o},set:void 0,enumerable:!0,configurable:!0});var i=e("3tZSl"),r=e("2hYdk"),o=()=>{window.dataLayer=window.dataLayer||[],(0,i.datalayerSource)(e=>{if("purchase"===e.event&&(0,r.default).notify({transactionEvent:{id:e.ecommerce.transaction_id,total:parseFloat(e.ecommerce.value),tax:parseFloat(e.ecommerce.tax||0),shipping:parseFloat(e.ecommerce.shipping||0),city:"N/A",country:"USA",currency:"USD",state:"N/A",items:e.ecommerce.items.map(t=>({orderId:e.ecommerce.transaction_id,sku:t.item_id,name:t.item_name,category:t.item_category,unitPrice:parseFloat(t.price),quantity:parseInt(t.quantity),currency:"USD"}))}}),"add_to_cart"===e.event){let{item_id:t,item_name:a,item_category:i,full_price:o,quantity:n}=e.ecommerce.items[0];(0,r.default).notify({addToCartEvent:{sku:t.toString(),name:(null==a?void 0:a.toString())||"N/A",category:(null==i?void 0:i.toString())||"N/A",unitPrice:parseFloat(o||"0"),quantity:parseInt(n||"1"),currency:"USD"}})}if("remove_from_cart"===e.event){let{item_id:t,item_name:a,item_category:i,full_price:o,quantity:n}=e.ecommerce.items[0];(0,r.default).notify({removeFromCartEvent:{sku:t.toString(),name:(null==a?void 0:a.toString())||"N/A",category:(null==i?void 0:i.toString())||"N/A",unitPrice:parseFloat(o||"0"),quantity:parseInt(n||"1"),currency:"USD"}})}});for(let i=0;i<window.dataLayer.length;i++){let p=window.dataLayer[i];if("purchase"===p.event){var e,t,a,o,n,c,l,d,u,m,s;let i=null==p?void 0:null===(t=p.ecommerce)||void 0===t?void 0:null===(e=t.purchase)||void 0===e?void 0:e.products,y=null==p?void 0:null===(n=p.ecommerce)||void 0===n?void 0:null===(o=n.purchase)||void 0===o?void 0:null===(a=o.actionField)||void 0===a?void 0:a.id,v=null==p?void 0:null===(d=p.ecommerce)||void 0===d?void 0:null===(l=d.purchase)||void 0===l?void 0:null===(c=l.actionField)||void 0===c?void 0:c.revenue,f=null==p?void 0:null===(s=p.ecommerce)||void 0===s?void 0:null===(m=s.purchase)||void 0===m?void 0:null===(u=m.actionField)||void 0===u?void 0:u.tax;y&&(0,r.default).notify({transactionEvent:{total:parseFloat(v),id:y,tax:parseFloat(f||0),shipping:0,city:"N/A",state:"N/A",country:"USA",currency:"USD",items:i.map(e=>({orderId:y,sku:e.id,name:e.name,category:e.category,unitPrice:parseFloat(e.price),quantity:parseInt(e.quantity),currency:"USD"}))}})}if("purchase"===p[1])try{let e=p[2],t=e.items;(0,r.default).notify({transactionEvent:{total:parseFloat(e.value),id:e.rawData.orderNumber,tax:parseFloat(e.tax||0),shipping:parseFloat(e.shipping||0),city:e.city||"N/A",state:e.state||"N/A",country:"USA",currency:"USD",items:t.map(t=>({orderId:e.rawData.orderNumber,sku:t.item_id,name:t.item_name||"N/A",category:t.item_category||"N/A",unitPrice:parseFloat(t.price||0),quantity:parseInt(t.quantity||1),currency:"USD"}))}})}catch(e){}}}});
//# sourceMappingURL=dutchie-plus.eb0f20e6.js.map
